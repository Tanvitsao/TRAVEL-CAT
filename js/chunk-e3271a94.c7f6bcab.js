(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e3271a94"],{"2fdb":function(t,a,s){"use strict";var i=s("5ca1"),e=s("d2c8"),c="includes";i(i.P+i.F*s("5147")(c),"String",{includes:function(t){return!!~e(this,t,c).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},5147:function(t,a,s){var i=s("2b4c")("match");t.exports=function(t){var a=/./;try{"/./"[t](a)}catch(s){try{return a[i]=!1,!"/./"[t](a)}catch(e){}}return!0}},"58c2":function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("AlertMessage"),s("div",{staticClass:"bg-light pb-5"},[s("div",{staticClass:"container"},[s("nav",{attrs:{"aria-label":"breadcrumb"}},[s("ol",{staticClass:"breadcrumb"},[s("li",{staticClass:"breadcrumb-item"},[s("router-link",{attrs:{to:"/"}},[t._v("首頁")])],1),s("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.text))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-3"},[s("div",{staticClass:"list-group sticky-top"},[s("a",{staticClass:"list-group-item list-group-item-action",class:{active:"全部地區"===t.text},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.changeText("全部地區")}}},[s("i",{staticClass:"fas fa-torii-gate mr-2"}),t._v("全部地區")]),s("a",{staticClass:"list-group-item list-group-item-action",class:{active:"本州"===t.text},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.changeText("本州")}}},[s("i",{staticClass:"fas fa-torii-gate mr-2"}),t._v("本州")]),s("a",{staticClass:"list-group-item list-group-item-action",class:{active:"北海道"===t.text},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.changeText("北海道")}}},[s("i",{staticClass:"fas fa-torii-gate mr-2"}),t._v("北海道")]),s("a",{staticClass:"list-group-item list-group-item-action",class:{active:"四國"===t.text},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.changeText("四國")}}},[s("i",{staticClass:"fas fa-torii-gate mr-2"}),t._v("四國")]),s("a",{staticClass:"list-group-item list-group-item-action",class:{active:"九州"===t.text},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.changeText("九州")}}},[s("i",{staticClass:"fas fa-torii-gate mr-2"}),t._v("九州")]),s("a",{staticClass:"list-group-item list-group-item-action",class:{active:"沖繩"===t.text},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.changeText("沖繩")}}},[s("i",{staticClass:"fas fa-torii-gate mr-2"}),t._v("沖繩")])])]),s("div",{staticClass:"col-md-9"},[s("div",{staticClass:"row"},t._l(t.filterData,function(a){return s("div",{key:a.id,staticClass:"col-md-6 mb-4"},[s("div",{staticClass:"card border-0 shadow-sm h-100 animated"},[s("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+a.imageUrl+")"}}),s("div",{staticClass:"card-body"},[s("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(a.category))]),s("h5",{staticClass:"card-title"},[s("i",{staticClass:"fas fa-paw"}),s("a",{staticClass:"h5 text-dark",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),t.getProduct(a.id)}}},[t._v(t._s(a.title))])]),s("p",{staticClass:"card-text"},[t._v(t._s(a.content))]),s("div",{staticClass:"text-right align-items-baseline"},[a.price?t._e():s("div",{staticClass:"h5 text-secondary"},[t._v("NT$ "+t._s(a.origin_price))]),a.price?s("del",{staticClass:"h6 text-secondary"},[t._v("NT$ "+t._s(a.origin_price))]):t._e(),a.price?s("div",{staticClass:"h5"},[t._v("NT$ "+t._s(a.price))]):t._e()])]),s("div",{staticClass:"card-footer d-flex bg-dark"},[s("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:function(s){t.getProduct(a.id)}}},[t.status.loadingItem===a.id?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n                                        查看更多\n                                    ")]),s("button",{staticClass:"btn btn-outline-primary btn-sm ml-auto",attrs:{type:"button"},on:{click:function(s){t.addtoCart(a.id)}}},[t.status.loadingItem===a.id?s("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n                                        加到購物車\n                                    ")])])])])}),0)])])])])],1)},e=[],c=(s("6762"),s("2fdb"),s("1157"),{data:function(){return{product:{},status:{loadingItem:""},isLoading:!1}},methods:{getProducts:function(){this.$store.dispatch("getProducts")},getProduct:function(t){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("kiki5720","/product/").concat(t),s=this;s.status.loadingItem=t,this.$http.get(a).then(function(t){console.log(t.data),s.$router.push("/itemdata/".concat(t.data.product.id)),s.status.loadingItem=""})},addtoCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("kiki5720","/cart"),i=this;i.status.loadingItem=t;var e={product_id:t,qty:a};this.$http.post(s,{data:e}).then(function(t){console.log(t.data),i.status.loadingItem="",i.$bus.$emit("message:push","已新增至購物車","success")})},changeText:function(t){this.$store.dispatch("changeText",t)}},computed:{products:function(){return this.$store.state.products},filterData:function(){var t=this;return"全部地區"!==t.$store.state.searchText?t.products.filter(function(a){var s=a.category.includes(t.$store.state.searchText);return s}):this.products},text:function(){return this.$store.state.searchText}},created:function(){this.getProducts()}}),r=c,n=s("2877"),o=Object(n["a"])(r,i,e,!1,null,null,null);o.options.__file="Categories.vue";a["default"]=o.exports},6762:function(t,a,s){"use strict";var i=s("5ca1"),e=s("c366")(!0);i(i.P,"Array",{includes:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")("includes")},aae3:function(t,a,s){var i=s("d3f4"),e=s("2d95"),c=s("2b4c")("match");t.exports=function(t){var a;return i(t)&&(void 0!==(a=t[c])?!!a:"RegExp"==e(t))}},d2c8:function(t,a,s){var i=s("aae3"),e=s("be13");t.exports=function(t,a,s){if(i(a))throw TypeError("String#"+s+" doesn't accept regex!");return String(e(t))}}}]);
//# sourceMappingURL=chunk-e3271a94.c7f6bcab.js.map